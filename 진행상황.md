상가정보를 가지고 검색 기능 구현

필요없는 컬럼이 너무 많아서 검색과 결과에 사용하지 않을 컬럼은 모두 삭제

편의를 위해 컬럼 이름을 영어로 조정함

null 값이 많이 있어서 이것들 조정해야함 -> es에서 매핑으로 해결 가능

default_value 값을 설정해서 해결 시도

```
floor : {
	"type" : "integer",
	"null_value" : "1"
}
```

이렇게 설정하면 1로 검색했을 때 층 정보가 null인 data가 검색되지만 원본 데이터가 변경되는 것은 아니기 때문에 결과 정보로 사용하기에 부적합

그래서 원본 데이터를 pandas로 수정

```
원하는 결과값
상호명,지점명,도로명주소

사용할 조건 값
상호명,지점명,주소,구이름,동이름
ex) 구로구 미용실, 구로동 미용실,구로동 ~~미용실,~~미용실,서울시 구로구 구로동 ~~,~~보쌈 ~~점
	지번주소로 검색,도로명주소로검색
	
```



    lot_addr" : "서울특별시 / 종로구 / 봉익동 / 43-1",
    봉익동을 검색하면 봉익동의 모든 상권 정보가 나오게 매핑을 계획
    하지만 기본 nori_analyzer는 위의 주소를 서울/특별/시/종로/구/봉익/동/43/1 로 토큰화 한다.
    서울시/ 종로구/ 봉익동 혹은
    서울시 종로구 봉익동 43-1로 검색되게 만들 것
    standard analyzer 적용하면 서울특별시/종로구/봉익동/43/1 로 tokenize 한다
    그리고 서울시 라는 토큰이 생성되지 않아 원하는 검색어로 검색되지 않기 때문에 동의어 사전을 이용하여 서울특별시와 서울시를 동의어로 만들어 준다. 
    

서울시 구로동 검색했을 때 서울/시/구로/동 으로 토큰화 하기 때문에 검색이 잘 되지 않는 문제 발생함

그래서 search analyzer를 따로 지정해야함

```
      "filter" : {
        "synonym" : {
          "type" : "synonym",
          "synonyms" : "서울특별시, 서울시"
```



    "detail_cate" : "시계/귀금속"
    "cate" : "시계 및 귀금속 소매업"
    "middle_cate" : "시계/귀금속소매"
    분류명들은 multi_match를 사용해서 한꺼번에 검색이 가능하도록 구성
    detail_cate의 경우 /,- 과 같은 특수문자 존재
    cate는 소매업
    middle는 소매
    
    /,-삭제 및 소매업 소매 중개업



```
"load_addr" : "서울특별시 종로구 서순라길 17-10",
  "name" : "태평양진주",
  "site_nm" : "본점",

```

주소,상권분류명,지점명,상호명을 검색 조건으로 하여 상호명,지점명,주소,층을 결과로 보여주려고 함

주소는 text type으로 매핑하여 구,동 이름으로도 검색이 가능하게 할 것
지점명,상호명은 keyword로 매핑하여 검색이 가능하도록 할 것 ex) 굽네치킨 구로점
(프렌차이즈가 아닌 점포에 대해서는 기존 null값으로 처리된 것을 "본점"으로 치환하여 진행)